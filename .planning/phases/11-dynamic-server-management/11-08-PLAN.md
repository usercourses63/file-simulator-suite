---
phase: 11-dynamic-server-management
plan: 08
type: execute
wave: 3
depends_on: ["11-05"]
files_modified:
  - src/dashboard/src/hooks/useConfigExport.ts
  - src/dashboard/src/components/ImportConfigDialog.tsx
  - src/dashboard/src/components/SettingsPanel.tsx
  - src/dashboard/src/App.tsx
  - src/dashboard/src/App.css
autonomous: true

must_haves:
  truths:
    - "Export downloads JSON file with all servers"
    - "Import accepts JSON file upload with conflict resolution"
    - "Import preview shows what will be created/skipped/replaced"
    - "Settings panel contains export/import buttons"
  artifacts:
    - path: "src/dashboard/src/hooks/useConfigExport.ts"
      provides: "Export/import API calls and file handling"
      min_lines: 60
    - path: "src/dashboard/src/components/ImportConfigDialog.tsx"
      provides: "Import wizard with conflict resolution"
      min_lines: 100
    - path: "src/dashboard/src/components/SettingsPanel.tsx"
      provides: "Settings area with export/import"
      min_lines: 40
  key_links:
    - from: "useConfigExport"
      to: "/api/configuration"
      via: "fetch calls"
      pattern: "api/configuration"
    - from: "ImportConfigDialog"
      to: "useConfigExport"
      via: "hook usage"
      pattern: "useConfigExport"
---

<objective>
Implement configuration export/import UI with conflict resolution dialog.

Purpose: Enable users to backup and replicate test environments by exporting/importing configuration JSON files.
Output: Export hook, import dialog with preview and conflict resolution, settings panel.
</objective>

<execution_context>
@C:\Users\UserC\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\UserC\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/11-dynamic-server-management/11-CONTEXT.md
@.planning/phases/11-dynamic-server-management/11-RESEARCH.md

# Types defined earlier
@src/dashboard/src/types/serverManagement.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create useConfigExport hook</name>
  <files>src/dashboard/src/hooks/useConfigExport.ts</files>
  <action>
Create src/dashboard/src/hooks/useConfigExport.ts:

```typescript
import { useState, useCallback } from 'react';
import {
  ServerConfigurationExport,
  ImportResult,
  ConflictResolutionStrategy
} from '../types/serverManagement';

interface UseConfigExportOptions {
  apiBaseUrl: string;
}

interface UseConfigExportReturn {
  // State
  isExporting: boolean;
  isImporting: boolean;
  isValidating: boolean;
  error: string | null;
  validationResult: ImportResult | null;
  importResult: ImportResult | null;

  // Actions
  exportConfig: () => Promise<void>;
  previewConfig: () => Promise<ServerConfigurationExport | null>;
  validateImport: (config: ServerConfigurationExport) => Promise<ImportResult>;
  importConfig: (config: ServerConfigurationExport, strategy: ConflictResolutionStrategy) => Promise<ImportResult>;
  importFile: (file: File, strategy: ConflictResolutionStrategy) => Promise<ImportResult>;
  clearError: () => void;
  clearResults: () => void;
}

export function useConfigExport({ apiBaseUrl }: UseConfigExportOptions): UseConfigExportReturn {
  const [isExporting, setIsExporting] = useState(false);
  const [isImporting, setIsImporting] = useState(false);
  const [isValidating, setIsValidating] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const [validationResult, setValidationResult] = useState<ImportResult | null>(null);
  const [importResult, setImportResult] = useState<ImportResult | null>(null);

  // Export configuration as file download
  const exportConfig = useCallback(async () => {
    setIsExporting(true);
    setError(null);

    try {
      const response = await fetch(`${apiBaseUrl}/api/configuration/export`);

      if (!response.ok) {
        throw new Error('Failed to export configuration');
      }

      // Get filename from Content-Disposition header or generate one
      const contentDisposition = response.headers.get('Content-Disposition');
      let filename = `file-simulator-config-${new Date().toISOString().slice(0, 10)}.json`;
      if (contentDisposition) {
        const match = contentDisposition.match(/filename="?([^"]+)"?/);
        if (match) filename = match[1];
      }

      // Download the file
      const blob = await response.blob();
      const url = window.URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      window.URL.revokeObjectURL(url);
    } catch (err) {
      const message = err instanceof Error ? err.message : 'Export failed';
      setError(message);
      throw err;
    } finally {
      setIsExporting(false);
    }
  }, [apiBaseUrl]);

  // Preview configuration (get as JSON, not file)
  const previewConfig = useCallback(async (): Promise<ServerConfigurationExport | null> => {
    try {
      const response = await fetch(`${apiBaseUrl}/api/configuration/preview`);
      if (!response.ok) {
        throw new Error('Failed to get configuration preview');
      }
      return response.json();
    } catch (err) {
      const message = err instanceof Error ? err.message : 'Preview failed';
      setError(message);
      return null;
    }
  }, [apiBaseUrl]);

  // Validate import without applying
  const validateImport = useCallback(async (config: ServerConfigurationExport): Promise<ImportResult> => {
    setIsValidating(true);
    setError(null);
    setValidationResult(null);

    try {
      const response = await fetch(`${apiBaseUrl}/api/configuration/validate`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(config)
      });

      if (!response.ok) {
        const data = await response.json();
        throw new Error(data.error || 'Validation failed');
      }

      const result = await response.json() as ImportResult;
      setValidationResult(result);
      return result;
    } catch (err) {
      const message = err instanceof Error ? err.message : 'Validation failed';
      setError(message);
      throw err;
    } finally {
      setIsValidating(false);
    }
  }, [apiBaseUrl]);

  // Import configuration
  const importConfig = useCallback(async (
    config: ServerConfigurationExport,
    strategy: ConflictResolutionStrategy
  ): Promise<ImportResult> => {
    setIsImporting(true);
    setError(null);
    setImportResult(null);

    try {
      const response = await fetch(`${apiBaseUrl}/api/configuration/import`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ configuration: config, strategy })
      });

      if (!response.ok && response.status !== 207) {
        const data = await response.json();
        throw new Error(data.error || 'Import failed');
      }

      const result = await response.json() as ImportResult;
      setImportResult(result);
      return result;
    } catch (err) {
      const message = err instanceof Error ? err.message : 'Import failed';
      setError(message);
      throw err;
    } finally {
      setIsImporting(false);
    }
  }, [apiBaseUrl]);

  // Import from file
  const importFile = useCallback(async (
    file: File,
    strategy: ConflictResolutionStrategy
  ): Promise<ImportResult> => {
    setIsImporting(true);
    setError(null);
    setImportResult(null);

    try {
      // Read and parse file
      const text = await file.text();
      const config = JSON.parse(text) as ServerConfigurationExport;

      // Validate structure
      if (!config.version || !config.servers) {
        throw new Error('Invalid configuration file format');
      }

      return await importConfig(config, strategy);
    } catch (err) {
      const message = err instanceof Error ? err.message : 'Import failed';
      setError(message);
      setIsImporting(false);
      throw err;
    }
  }, [importConfig]);

  const clearError = useCallback(() => setError(null), []);
  const clearResults = useCallback(() => {
    setValidationResult(null);
    setImportResult(null);
  }, []);

  return {
    isExporting,
    isImporting,
    isValidating,
    error,
    validationResult,
    importResult,
    exportConfig,
    previewConfig,
    validateImport,
    importConfig,
    importFile,
    clearError,
    clearResults
  };
}

export default useConfigExport;
```
  </action>
  <verify>
- File exists at src/dashboard/src/hooks/useConfigExport.ts
- Export triggers file download
- Import accepts JSON config with strategy
- Validation returns preview without applying
  </verify>
  <done>useConfigExport hook with export file download, import with strategy, and validation preview.</done>
</task>

<task type="auto">
  <name>Task 2: Create ImportConfigDialog component</name>
  <files>
src/dashboard/src/components/ImportConfigDialog.tsx
src/dashboard/src/components/ImportConfigDialog.css
  </files>
  <action>
1. Create src/dashboard/src/components/ImportConfigDialog.tsx:

```tsx
import { useState, useRef } from 'react';
import { useConfigExport } from '../hooks/useConfigExport';
import {
  ServerConfigurationExport,
  ConflictResolutionStrategy,
  ImportResult
} from '../types/serverManagement';
import './ImportConfigDialog.css';

interface ImportConfigDialogProps {
  isOpen: boolean;
  onClose: () => void;
  onImported: () => void;
  apiBaseUrl: string;
}

type ImportStep = 'select-file' | 'preview' | 'importing' | 'complete';

export function ImportConfigDialog({
  isOpen,
  onClose,
  onImported,
  apiBaseUrl
}: ImportConfigDialogProps) {
  const {
    isImporting,
    isValidating,
    error,
    validationResult,
    importResult,
    validateImport,
    importConfig,
    clearError,
    clearResults
  } = useConfigExport({ apiBaseUrl });

  const [step, setStep] = useState<ImportStep>('select-file');
  const [selectedFile, setSelectedFile] = useState<File | null>(null);
  const [parsedConfig, setParsedConfig] = useState<ServerConfigurationExport | null>(null);
  const [strategy, setStrategy] = useState<ConflictResolutionStrategy>('Skip');
  const fileInputRef = useRef<HTMLInputElement>(null);

  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (!file) return;

    try {
      const text = await file.text();
      const config = JSON.parse(text) as ServerConfigurationExport;

      if (!config.version || !config.servers) {
        throw new Error('Invalid configuration file');
      }

      setSelectedFile(file);
      setParsedConfig(config);

      // Validate to get preview
      await validateImport(config);
      setStep('preview');
    } catch (err) {
      clearError();
      alert(err instanceof Error ? err.message : 'Failed to parse file');
    }
  };

  const handleImport = async () => {
    if (!parsedConfig) return;

    setStep('importing');
    try {
      await importConfig(parsedConfig, strategy);
      setStep('complete');
    } catch {
      setStep('preview');
    }
  };

  const handleClose = () => {
    setStep('select-file');
    setSelectedFile(null);
    setParsedConfig(null);
    setStrategy('Skip');
    clearError();
    clearResults();
    onClose();
  };

  const handleDone = () => {
    handleClose();
    onImported();
  };

  if (!isOpen) return null;

  const renderStepContent = () => {
    switch (step) {
      case 'select-file':
        return (
          <div className="import-step-content">
            <div
              className="file-drop-zone"
              onClick={() => fileInputRef.current?.click()}
            >
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" />
              </svg>
              <p>Click to select a configuration file</p>
              <span className="file-hint">or drag and drop .json file</span>
            </div>
            <input
              ref={fileInputRef}
              type="file"
              accept=".json"
              onChange={handleFileSelect}
              style={{ display: 'none' }}
            />
          </div>
        );

      case 'preview':
        return (
          <div className="import-step-content">
            <div className="file-info">
              <strong>File:</strong> {selectedFile?.name}
              <br />
              <strong>Exported:</strong> {parsedConfig?.exportedAt ? new Date(parsedConfig.exportedAt).toLocaleString() : 'Unknown'}
              <br />
              <strong>Servers:</strong> {parsedConfig?.servers.length}
            </div>

            {validationResult && (
              <div className="import-preview">
                <h4>Import Preview</h4>

                {validationResult.created.length > 0 && (
                  <div className="preview-section preview-section--created">
                    <span className="preview-label">Will create ({validationResult.created.length}):</span>
                    <div className="preview-items">
                      {validationResult.created.map(name => (
                        <span key={name} className="preview-item">{name}</span>
                      ))}
                    </div>
                  </div>
                )}

                {validationResult.skipped.length > 0 && (
                  <div className="preview-section preview-section--skipped">
                    <span className="preview-label">Will skip ({validationResult.skipped.length}):</span>
                    <div className="preview-items">
                      {validationResult.skipped.map(name => (
                        <span key={name} className="preview-item">{name}</span>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            )}

            <div className="conflict-strategy">
              <label>When server already exists:</label>
              <div className="strategy-options">
                <label className="radio-option">
                  <input
                    type="radio"
                    name="strategy"
                    value="Skip"
                    checked={strategy === 'Skip'}
                    onChange={() => setStrategy('Skip')}
                  />
                  <span>Skip (keep existing)</span>
                </label>
                <label className="radio-option">
                  <input
                    type="radio"
                    name="strategy"
                    value="Replace"
                    checked={strategy === 'Replace'}
                    onChange={() => setStrategy('Replace')}
                  />
                  <span>Replace (delete and recreate)</span>
                </label>
                <label className="radio-option">
                  <input
                    type="radio"
                    name="strategy"
                    value="Rename"
                    checked={strategy === 'Rename'}
                    onChange={() => setStrategy('Rename')}
                  />
                  <span>Rename (add suffix)</span>
                </label>
              </div>
            </div>

            {error && <div className="error-message">{error}</div>}
          </div>
        );

      case 'importing':
        return (
          <div className="import-step-content import-step-content--centered">
            <div className="import-spinner"></div>
            <p>Importing configuration...</p>
          </div>
        );

      case 'complete':
        return (
          <div className="import-step-content">
            <div className="import-complete">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                <path d="M22 4L12 14.01l-3-3" />
              </svg>
              <h3>Import Complete</h3>
            </div>

            {importResult && (
              <div className="import-results">
                {importResult.created.length > 0 && (
                  <div className="result-section result-section--success">
                    <strong>Created ({importResult.created.length}):</strong>
                    <div className="result-items">
                      {importResult.created.map(name => (
                        <span key={name}>{name}</span>
                      ))}
                    </div>
                  </div>
                )}

                {importResult.skipped.length > 0 && (
                  <div className="result-section result-section--skipped">
                    <strong>Skipped ({importResult.skipped.length}):</strong>
                    <div className="result-items">
                      {importResult.skipped.map(name => (
                        <span key={name}>{name}</span>
                      ))}
                    </div>
                  </div>
                )}

                {Object.keys(importResult.failed).length > 0 && (
                  <div className="result-section result-section--error">
                    <strong>Failed ({Object.keys(importResult.failed).length}):</strong>
                    <div className="result-items">
                      {Object.entries(importResult.failed).map(([name, error]) => (
                        <span key={name} title={error}>{name}</span>
                      ))}
                    </div>
                  </div>
                )}
              </div>
            )}
          </div>
        );
    }
  };

  return (
    <div className="modal-overlay" onClick={handleClose}>
      <div className="import-config-dialog" onClick={e => e.stopPropagation()}>
        <div className="modal-header">
          <h2>Import Configuration</h2>
          <button type="button" className="modal-close" onClick={handleClose}>&times;</button>
        </div>

        <div className="modal-body">
          {renderStepContent()}
        </div>

        <div className="modal-footer">
          {step === 'select-file' && (
            <button type="button" className="btn btn--secondary" onClick={handleClose}>
              Cancel
            </button>
          )}

          {step === 'preview' && (
            <>
              <button
                type="button"
                className="btn btn--secondary"
                onClick={() => {
                  setStep('select-file');
                  setSelectedFile(null);
                  setParsedConfig(null);
                  clearResults();
                }}
              >
                Back
              </button>
              <button
                type="button"
                className="btn btn--primary"
                onClick={handleImport}
                disabled={isImporting || (validationResult?.created.length === 0 && strategy === 'Skip')}
              >
                Import
              </button>
            </>
          )}

          {step === 'complete' && (
            <button type="button" className="btn btn--primary" onClick={handleDone}>
              Done
            </button>
          )}
        </div>
      </div>
    </div>
  );
}

export default ImportConfigDialog;
```

2. Create src/dashboard/src/components/ImportConfigDialog.css:

```css
.import-config-dialog {
  background: var(--bg-primary);
  border-radius: 8px;
  width: 500px;
  max-width: 95vw;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
}

.import-step-content {
  min-height: 200px;
}

.import-step-content--centered {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* File Drop Zone */
.file-drop-zone {
  border: 2px dashed var(--border-color);
  border-radius: 8px;
  padding: 40px;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
}

.file-drop-zone:hover {
  border-color: var(--accent-color);
  background: rgba(59, 130, 246, 0.05);
}

.file-drop-zone svg {
  width: 48px;
  height: 48px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.file-drop-zone p {
  margin: 0 0 8px;
  font-weight: 500;
}

.file-hint {
  color: var(--text-secondary);
  font-size: 13px;
}

/* File Info */
.file-info {
  background: var(--bg-secondary);
  padding: 12px;
  border-radius: 6px;
  margin-bottom: 16px;
  font-size: 14px;
  line-height: 1.6;
}

/* Import Preview */
.import-preview {
  margin-bottom: 16px;
}

.import-preview h4 {
  margin: 0 0 12px;
  font-size: 14px;
  color: var(--text-secondary);
}

.preview-section {
  margin-bottom: 12px;
}

.preview-label {
  display: block;
  font-weight: 500;
  margin-bottom: 6px;
  font-size: 13px;
}

.preview-items {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.preview-item {
  background: var(--bg-secondary);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.preview-section--created .preview-label {
  color: var(--success-color);
}

.preview-section--skipped .preview-label {
  color: var(--text-secondary);
}

/* Conflict Strategy */
.conflict-strategy {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--border-color);
}

.conflict-strategy > label {
  display: block;
  font-weight: 500;
  margin-bottom: 12px;
}

.strategy-options {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.radio-option {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 8px 12px;
  border-radius: 4px;
  transition: background 0.2s;
}

.radio-option:hover {
  background: var(--bg-secondary);
}

/* Import Spinner */
.import-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid var(--border-color);
  border-top-color: var(--accent-color);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

/* Import Complete */
.import-complete {
  text-align: center;
  margin-bottom: 20px;
}

.import-complete svg {
  width: 64px;
  height: 64px;
  color: var(--success-color);
  margin-bottom: 12px;
}

.import-complete h3 {
  margin: 0;
  color: var(--success-color);
}

/* Import Results */
.import-results {
  background: var(--bg-secondary);
  padding: 16px;
  border-radius: 8px;
}

.result-section {
  margin-bottom: 12px;
}

.result-section:last-child {
  margin-bottom: 0;
}

.result-items {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 6px;
}

.result-items span {
  background: var(--bg-primary);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
}

.result-section--success strong {
  color: var(--success-color);
}

.result-section--skipped strong {
  color: var(--text-secondary);
}

.result-section--error strong {
  color: var(--error-color);
}
```
  </action>
  <verify>
- ImportConfigDialog handles file selection
- Preview shows what will be created/skipped
- Conflict resolution strategy selector works
- Import progress and results displayed
  </verify>
  <done>ImportConfigDialog with file upload, preview, conflict resolution, and result display.</done>
</task>

<task type="auto">
  <name>Task 3: Create SettingsPanel and integrate in App</name>
  <files>
src/dashboard/src/components/SettingsPanel.tsx
src/dashboard/src/components/SettingsPanel.css
src/dashboard/src/App.tsx
  </files>
  <action>
1. Create src/dashboard/src/components/SettingsPanel.tsx:

```tsx
import { useState } from 'react';
import { useConfigExport } from '../hooks/useConfigExport';
import './SettingsPanel.css';

interface SettingsPanelProps {
  isOpen: boolean;
  onClose: () => void;
  onImport: () => void;
  apiBaseUrl: string;
}

export function SettingsPanel({
  isOpen,
  onClose,
  onImport,
  apiBaseUrl
}: SettingsPanelProps) {
  const { exportConfig, isExporting, error } = useConfigExport({ apiBaseUrl });
  const [showConfirmExport, setShowConfirmExport] = useState(false);

  if (!isOpen) return null;

  const handleExport = async () => {
    try {
      await exportConfig();
      setShowConfirmExport(false);
    } catch {
      // Error already handled by hook
    }
  };

  return (
    <div className="settings-panel-overlay" onClick={onClose}>
      <div className="settings-panel" onClick={e => e.stopPropagation()}>
        <div className="settings-header">
          <h2>Settings</h2>
          <button type="button" className="modal-close" onClick={onClose}>&times;</button>
        </div>

        <div className="settings-content">
          <section className="settings-section">
            <h3>Configuration</h3>
            <p className="settings-description">
              Export your current simulator configuration or import a saved configuration file.
            </p>

            <div className="settings-actions">
              <button
                type="button"
                className="btn btn--secondary"
                onClick={handleExport}
                disabled={isExporting}
              >
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" />
                </svg>
                {isExporting ? 'Exporting...' : 'Export Configuration'}
              </button>

              <button
                type="button"
                className="btn btn--secondary"
                onClick={onImport}
              >
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                  <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" />
                </svg>
                Import Configuration
              </button>
            </div>

            {error && <div className="settings-error">{error}</div>}

            <p className="settings-note">
              <strong>Note:</strong> Exported files contain server credentials.
              Keep them secure.
            </p>
          </section>

          <section className="settings-section">
            <h3>About</h3>
            <div className="about-info">
              <p><strong>File Simulator Suite</strong></p>
              <p>Version 2.0</p>
              <p className="about-description">
                Multi-protocol file server simulator for Kubernetes development environments.
              </p>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
}

export default SettingsPanel;
```

2. Create src/dashboard/src/components/SettingsPanel.css:

```css
.settings-panel-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 300;
}

.settings-panel {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 400px;
  max-width: 100vw;
  background: var(--bg-primary);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  animation: slideIn 0.2s ease-out;
}

@keyframes slideIn {
  from { transform: translateX(100%); }
  to { transform: translateX(0); }
}

.settings-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 20px;
  border-bottom: 1px solid var(--border-color);
}

.settings-header h2 {
  margin: 0;
  font-size: 1.25rem;
}

.settings-content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.settings-section {
  margin-bottom: 32px;
}

.settings-section h3 {
  margin: 0 0 8px;
  font-size: 1rem;
  color: var(--text-secondary);
}

.settings-description {
  color: var(--text-secondary);
  font-size: 14px;
  margin-bottom: 16px;
}

.settings-actions {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.settings-actions .btn {
  display: flex;
  align-items: center;
  gap: 8px;
  justify-content: center;
}

.settings-actions .btn svg {
  width: 18px;
  height: 18px;
}

.settings-error {
  margin-top: 12px;
  padding: 12px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 6px;
  color: var(--error-color);
  font-size: 14px;
}

.settings-note {
  margin-top: 16px;
  padding: 12px;
  background: var(--bg-secondary);
  border-radius: 6px;
  font-size: 13px;
  color: var(--text-secondary);
}

.about-info {
  background: var(--bg-secondary);
  padding: 16px;
  border-radius: 8px;
}

.about-info p {
  margin: 0 0 8px;
}

.about-info p:last-child {
  margin-bottom: 0;
}

.about-description {
  color: var(--text-secondary);
  font-size: 14px;
}
```

3. Update App.tsx to add Settings button and integrate panels:

Add imports:
```tsx
import SettingsPanel from './components/SettingsPanel';
import ImportConfigDialog from './components/ImportConfigDialog';
```

Add state:
```tsx
const [showSettings, setShowSettings] = useState(false);
const [showImportDialog, setShowImportDialog] = useState(false);
```

Add settings button in header (after the Add Server button):
```tsx
<button
  className="header-settings-btn"
  onClick={() => setShowSettings(true)}
  title="Settings"
>
  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
    <circle cx="12" cy="12" r="3" />
    <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z" />
  </svg>
</button>
```

Add panels at end of component:
```tsx
<SettingsPanel
  isOpen={showSettings}
  onClose={() => setShowSettings(false)}
  onImport={() => {
    setShowSettings(false);
    setShowImportDialog(true);
  }}
  apiBaseUrl={apiBaseUrl}
/>

<ImportConfigDialog
  isOpen={showImportDialog}
  onClose={() => setShowImportDialog(false)}
  onImported={() => {
    // SignalR will push updates
  }}
  apiBaseUrl={apiBaseUrl}
/>
```

4. Add styles to App.css:

```css
/* Settings Button */
.header-settings-btn {
  width: 36px;
  height: 36px;
  padding: 6px;
  border: none;
  background: var(--bg-secondary);
  border-radius: 6px;
  cursor: pointer;
  color: var(--text-secondary);
  margin-left: 12px;
}

.header-settings-btn:hover {
  background: var(--bg-tertiary);
  color: var(--text-primary);
}

.header-settings-btn svg {
  width: 100%;
  height: 100%;
}
```
  </action>
  <verify>
- SettingsPanel has Export and Import buttons
- Settings opens as slide-in panel
- Import opens dialog from settings
- Export downloads JSON file
  </verify>
  <done>SettingsPanel with export/import buttons, integrated with App. Export downloads file, Import opens dialog.</done>
</task>

</tasks>

<verification>
1. `npm run build` in dashboard succeeds
2. Export button downloads JSON file
3. Import wizard: file select -> preview -> confirm -> results
4. Conflict strategies: skip, replace, rename
5. Settings panel slides in from right
</verification>

<success_criteria>
- Export includes ALL servers (CFG-01)
- Import accepts JSON file (CFG-02)
- Conflict handling: ask per conflict (CONTEXT.md)
- NodePort preservation with auto-assign on conflict (CONTEXT.md)
- Export/Import in settings area (CONTEXT.md)
</success_criteria>

<output>
After completion, create `.planning/phases/11-dynamic-server-management/11-08-SUMMARY.md`
</output>
